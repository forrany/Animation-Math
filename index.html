<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>角之勇者大冒险 - 数学学习游戏</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div id="gameContainer">
        <!-- 游戏标题 -->
        <header class="game-header">
            <h1>🎮 角之勇者大冒险</h1>
        </header>

        <!-- 游戏主界面 -->
        <div id="mainScreen" class="screen active">
            <div class="welcome-panel">
                <div class="character-avatar">
                    <div class="avatar-circle">🧙‍♂️</div>
                    <div class="character-name">
                        <input type="text" id="playerName" placeholder="输入勇者名字" maxlength="10">
                    </div>
                </div>
                <button id="startGameBtn" class="btn btn-primary">开始冒险</button>
                <button id="continueBtn" class="btn btn-secondary" style="display:none;">继续游戏</button>
            </div>
        </div>

        <!-- 关卡地图界面 -->
        <div id="mapScreen" class="screen">
            <div class="map-header">
                <div class="player-info">
                    <span id="playerLevel">等级 1</span>
                    <span id="playerExp">经验 0/100</span>
                    <span id="playerCoins">💰 0</span>
                </div>
            </div>
            <div class="world-map">
                <div class="world-title">🗺️ 角度王国</div>
                <div id="chaptersContainer" class="chapters-container">
                    <!-- 动态生成章节卡片 -->
                </div>
            </div>
            <button id="backToMainBtn" class="btn btn-back">返回</button>
        </div>

        <!-- 游戏战斗界面 -->
        <div id="gameScreen" class="screen">
            <div class="game-header-ui">
                <div class="player-status">
                    <div class="hp-bar">
                        <div class="hp-label">📊 分数</div>
                        <div class="hp-bar-bg">
                            <div id="hpFill" class="hp-bar-fill"></div>
                        </div>
                        <span id="hpValue">100/100</span>
                    </div>
                    <div class="mp-bar">
                        <div class="mp-label">💜 计算力</div>
                        <div class="mp-bar-bg">
                            <div id="mpFill" class="mp-bar-fill"></div>
                        </div>
                        <span id="mpValue">50/50</span>
                    </div>
                </div>
                <div class="level-display">Lv.<span id="currentLevel">1</span></div>
            </div>

            <div class="battle-area">
                <div class="enemy-section">
                    <div id="enemySprite" class="enemy-sprite">👹</div>
                    <div class="enemy-name">概念怪兽</div>
                    <div class="enemy-hp">
                        <div class="enemy-hp-bg">
                            <div id="enemyHpFill" class="enemy-hp-fill"></div>
                        </div>
                        <span id="enemyHpValue">500/500</span>
                    </div>
                </div>

                <div class="question-area">
                    <div id="questionText" class="question-text">题目内容</div>
                    <div id="questionImage" class="question-image"></div>
                    <div id="answerOptions" class="answer-options">
                        <!-- 动态生成选项 -->
                    </div>
                </div>

                <div class="player-section">
                    <div class="player-sprite">🧙‍♂️</div>
                    <div class="player-spell" id="playerSpell">基础攻击</div>
                </div>
            </div>

            <div class="battle-log" id="battleLog">
                <div class="log-entry">冒险开始！准备好接受挑战了吗？</div>
            </div>

            <div class="game-controls">
                <button id="useItemBtn" class="btn btn-item">使用道具</button>
                <button id="giveUpBtn" class="btn btn-giveup">放弃</button>
            </div>
        </div>

        <!-- 结果界面 -->
        <div id="resultScreen" class="screen">
            <div class="result-panel">
                <div id="resultIcon" class="result-icon">🎉</div>
                <div id="resultTitle" class="result-title">胜利！</div>
                <div id="resultMessage" class="result-message">恭喜你通过了挑战！</div>
                <div class="reward-display">
                    <div id="expReward" class="reward-item">+100 经验</div>
                    <div id="coinReward" class="reward-item">+50 金币</div>
                    <div id="itemReward" class="reward-item" style="display:none;">获得装备！</div>
                </div>
                <div class="result-actions">
                    <button id="nextChapterBtn" class="btn btn-primary" style="display:none;">🎯 下一章</button>
                    <button id="nextLevelBtn" class="btn btn-secondary">返回章节选择</button>
                </div>
            </div>
        </div>

        <!-- 角色界面 -->
        <div id="characterScreen" class="screen">
            <div class="character-panel">
                <h2>📊 角色信息</h2>
                <div class="character-details">
                    <div class="character-basic">
                        <div class="char-avatar-large">🧙‍♂️</div>
                        <div class="char-stats">
                            <div class="stat-row">
                                <span>等级：</span>
                                <span id="charLevel">1</span>
                            </div>
                            <div class="stat-row">
                                <span>经验：</span>
                                <span id="charExp">0/100</span>
                            </div>
                            <div class="stat-row">
                                <span>金币：</span>
                                <span id="charCoins">0</span>
                            </div>
                            <div class="stat-row">
                                <span>胜率：</span>
                                <span id="charWinRate">0%</span>
                            </div>
                        </div>
                    </div>
                    <div class="equipment-section">
                        <h3>🎒 装备</h3>
                        <div id="equipmentList" class="equipment-list">
                            <!-- 动态生成装备 -->
                        </div>
                    </div>
                </div>
                <button id="closeCharacterBtn" class="btn btn-secondary">关闭</button>
            </div>
        </div>

        <!-- 历史记录模态框 -->
        <div id="historyModal" class="modal">
            <div class="modal-content">
                <div class="modal-header">
                    <h2 id="historyModalTitle">📊 章节历史记录</h2>
                    <span class="close-modal" id="closeHistoryModal">&times;</span>
                </div>
                <div id="historyList" class="history-list">
                    <!-- 动态生成历史记录 -->
                </div>
            </div>
        </div>
    </div>

    <script src="game.js"></script>
</body>
</html>
